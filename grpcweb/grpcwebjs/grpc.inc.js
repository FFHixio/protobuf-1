!function(e,t){for(var r in t)e[r]=t[r]}(this,function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.BrowserHeaders=n.BrowserHeaders},function(e,t,r){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.debug?console.debug.apply(null,e):console.log.apply(null,e)}function a(e,t){for(var r=[],a=0;a<t.length;a++)r.push(t[a]);n(e,r.join(","))}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=n,t.debugBuffer=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.grpc=n.grpc,t.BrowserHeaders=n.BrowserHeaders},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.BrowserHeaders=n.BrowserHeaders;var a=r(7),o=r(8),s=r(1);!function(e){function t(e){switch(e){case 0:return d.Internal;case 200:return d.OK;case 400:return d.InvalidArgument;case 401:return d.Unauthenticated;case 403:return d.PermissionDenied;case 404:return d.NotFound;case 409:return d.Aborted;case 412:return d.FailedPrecondition;case 429:return d.ResourceExhausted;case 499:return d.Canceled;case 500:return d.Unknown;case 501:return d.Unimplemented;case 503:return d.Unavailable;case 504:return d.DeadlineExceeded;default:return d.Unknown}}function r(e){var t=e.serializeBinary(),r=new ArrayBuffer(t.byteLength+5);return new DataView(r,1,4).setUint32(0,t.length,!1),new Uint8Array(r,5).set(t),new Uint8Array(r)}function i(e){var t=e.get("grpc-status")||[];if(t.length>0)try{var r=t[0];return parseInt(r,10)}catch(e){return d.Internal}return d.Internal}function u(e,u){function c(e,t,r){b||(b=!0,u.onEnd(e,t,r))}function f(e){b||u.onHeaders&&u.onHeaders(e)}function p(e,t){b||(b=!0,u.onEnd(e,t,new n.BrowserHeaders))}function l(e){b||u.onMessage&&u.onMessage(e)}var h=new n.BrowserHeaders(u.headers?u.headers:{});h.set("content-type","application/grpc-web"),h.set("x-grpc-web","1");var g,y,v=r(u.request),b=!1,E=new a.ChunkParser,m=u.transport;m||(m=o.DefaultTransportFactory.getTransport()),m({debug:u.debug||!1,url:u.host+"/"+e.service.serviceName+"/"+e.methodName,headers:h,body:v,onHeaders:function(e,r){if(u.debug&&s.debug("onHeaders",e,r),0===r);else{g=e,u.debug&&s.debug("onHeaders.responseHeaders",JSON.stringify(g,null,2));var n=t(r);u.debug&&s.debug("onHeaders.code",n);var a=e.get("grpc-message")||[];if(u.debug&&s.debug("onHeaders.gRPCMessage",a),n!==d.OK)return void p(n,a[0]||"");f(e)}},onChunk:function(t){var r=[];try{r=E.parse(t)}catch(e){return u.debug&&s.debug("onChunk.parsing error",e,e.message),void p(d.Internal,"parsing error: "+e.message)}r.forEach(function(t){if(t.chunkType===a.ChunkType.MESSAGE){l(e.responseType.deserializeBinary(t.data))}else t.chunkType===a.ChunkType.TRAILERS&&(u.debug&&s.debug("onChunk.trailers",y),y=new n.BrowserHeaders(t.trailers))})},onEnd:function(){if(u.debug&&s.debug("grpc.onEnd"),void 0===y){if(void 0===g)return void p(d.Internal,"Response closed without headers");var e=i(g),t=g.get("grpc-message");return u.debug&&s.debug("grpc.headers only response ",e,t),void c(e,t[0]||"Response closed without grpc-status (Headers only)",g)}var r=i(y);if(null===r)return void p(d.Internal,"Response closed without grpc-status (Trailers provided)");var n=y.get("grpc-message");c(r,n?n[0]:"",y)}})}var d;!function(e){e[e.OK=0]="OK",e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated"}(d=e.Code||(e.Code={})),e.invoke=u}(t.grpc||(t.grpc={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5),a=function(){function e(t,r){void 0===t&&(t={}),void 0===r&&(r={splitValues:!1});var a=this;if(this.keyValueMap={},t)if("undefined"!=typeof Headers&&t instanceof Headers){var o=n.getHeaderKeys(t);o.forEach(function(e){n.getHeaderValues(t,e).forEach(function(t){r.splitValues?a.append(e,n.splitHeaderValue(t)):a.append(e,t)})})}else if(t instanceof e)t.forEach(function(e,t){a.append(e,t)});else if("undefined"!=typeof Map&&t instanceof Map){var s=t;s.forEach(function(e,t){a.append(t,e)})}else"string"==typeof t?this.appendFromString(t):"object"==typeof t&&Object.getOwnPropertyNames(t).forEach(function(e){var r=t,n=r[e];Array.isArray(n)?n.forEach(function(t){a.append(e,t)}):a.append(e,n)})}return e.prototype.appendFromString=function(e){for(var t=e.split("\r\n"),r=0;r<t.length;r++){var n=t[r],a=n.indexOf(": ");if(a>0){var o=n.substring(0,a),s=n.substring(a+2);this.append(o,s)}}},e.prototype.delete=function(e,t){var r=n.normalizeName(e);if(void 0===t)delete this.keyValueMap[r];else{var a=this.keyValueMap[r];if(a){var o=a.indexOf(t);o>=0&&a.splice(o,1),0===a.length&&delete this.keyValueMap[r]}}},e.prototype.append=function(e,t){var r=this,a=n.normalizeName(e);Array.isArray(this.keyValueMap[a])||(this.keyValueMap[a]=[]),Array.isArray(t)?t.forEach(function(e){r.keyValueMap[a].push(n.normalizeValue(e))}):this.keyValueMap[a].push(n.normalizeValue(t))},e.prototype.set=function(e,t){var r=n.normalizeName(e);if(Array.isArray(t)){var a=[];t.forEach(function(e){a.push(n.normalizeValue(e))}),this.keyValueMap[r]=a}else this.keyValueMap[r]=[n.normalizeValue(t)]},e.prototype.has=function(e,t){var r=this.keyValueMap[n.normalizeName(e)];if(!Array.isArray(r))return!1;if(void 0!==t){var a=n.normalizeValue(t);return r.indexOf(a)>=0}return!0},e.prototype.get=function(e){var t=this.keyValueMap[n.normalizeName(e)];return void 0!==t?t.concat():[]},e.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.keyValueMap).forEach(function(r){e(r,t.keyValueMap[r])},this)},e.prototype.toHeaders=function(){if("undefined"!=typeof Headers){var e=new Headers;return this.forEach(function(t,r){r.forEach(function(r){e.append(t,r)})}),e}throw new Error("Headers class is not defined")},e}();t.BrowserHeaders=a},function(e,t,r){"use strict";function n(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function a(e){return"string"!=typeof e&&(e=String(e)),e}function o(e,t){if(e instanceof Headers&&e.getAll)return e.getAll(t);var r=e.get(t);return r&&"string"==typeof r?[r]:r}function s(e){var t={},r=[];return e.keys?u.iterateHeadersKeys(e,function(e){t[e]||(t[e]=!0,r.push(e))}):e.forEach?e.forEach(function(e,n){t[n]||(t[n]=!0,r.push(n))}):u.iterateHeaders(e,function(e){var n=e[0];t[n]||(t[n]=!0,r.push(n))}),r}function i(e){var t=[];return e.split(", ").forEach(function(e){e.split(",").forEach(function(e){t.push(e)})}),t}Object.defineProperty(t,"__esModule",{value:!0});var u=r(6);t.normalizeName=n,t.normalizeValue=a,t.getHeaderValues=o,t.getHeaderKeys=s,t.splitHeaderValue=i},function(e,t){function r(e,t){for(var r=e[Symbol.iterator](),n=r.next();!n.done;)t(n.value[0]),n=r.next()}function n(e,t){for(var r=e.keys(),n=r.next();!n.done;)t(n.value),n=r.next()}e.exports={iterateHeaders:r,iterateHeadersKeys:n}},function(e,t,r){"use strict";function n(e){return 128==(128&e.getUint8(0))}function a(e){return new u.BrowserHeaders(new d.TextDecoder("utf-8").decode(e))}function o(e){return e.getUint32(1,!1)}function s(e,t,r){return e.byteLength-t>=r}function i(e,t,r){if(e.slice)return e.slice(t,r);var n=e.length;void 0!==r&&(n=r);for(var a=n-t,o=new Uint8Array(a),s=0,i=t;i<n;i++)o[s++]=e[i];return o}Object.defineProperty(t,"__esModule",{value:!0});var u=r(0),d=Function("return this")();t.sliceUint8Array=i;var c;!function(e){e[e.MESSAGE=1]="MESSAGE",e[e.TRAILERS=2]="TRAILERS"}(c=t.ChunkType||(t.ChunkType={}));var f=function(){function e(){this.buffer=null,this.position=0}return e.prototype.parse=function(e,t){if(0===e.length&&t)return[];var r=[];if(null==this.buffer)this.buffer=e,this.position=0;else if(this.position===this.buffer.byteLength)this.buffer=e,this.position=0;else{var u=this.buffer.byteLength-this.position,d=new Uint8Array(u+e.byteLength),f=i(this.buffer,this.position);d.set(f,0);var p=new Uint8Array(e);d.set(p,u),this.buffer=d,this.position=0}for(;;){if(!s(this.buffer,this.position,5))return r;var l=i(this.buffer,this.position,this.position+5),h=new DataView(l.buffer,l.byteOffset,l.byteLength),g=o(h);if(!s(this.buffer,this.position,5+g))return r;var y=i(this.buffer,this.position+5,this.position+5+g);if(this.position+=5+g,n(h))return r.push({chunkType:c.TRAILERS,trailers:a(y)}),r;r.push({chunkType:c.MESSAGE,data:y})}},e}();t.ChunkParser=f},function(e,t,r){"use strict";function n(){if(void 0!==o)return o;if(XMLHttpRequest){o=new XMLHttpRequest;try{o.open("GET","https://localhost")}catch(e){}}return o}function a(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(9),i=r(10),u=r(11),d=function(){function e(){}return e.getTransport=function(){return this.selected||(this.selected=e.detectTransport()),this.selected},e.detectTransport=function(){return"undefined"!=typeof Response&&Response.prototype.hasOwnProperty("body")&&"function"==typeof Headers?s.default:a("ms-stream")?u.default:i.default},e}();t.DefaultTransportFactory=d},function(e,t,r){"use strict";function n(e){function t(r,n){return r.read().then(function(a){return a.done?void e.onEnd():(e.onChunk(a.value),t(r,n))})}e.debug&&o.debug("fetchRequest",e),fetch(e.url,{headers:e.headers.toHeaders(),method:"POST",body:e.body}).then(function(r){return e.debug&&o.debug("fetchRequest.response",r),e.onHeaders(new a.BrowserHeaders(r.headers),r.status),r.body?t(r.body.getReader(),r):r}).catch(function(t){e.debug&&o.debug("fetchRequest.catch",t.message),e.onEnd(t)})}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=r(1);t.default=n},function(e,t,r){"use strict";function n(e,t){var r=e.charCodeAt(t);if(r>=55296&&r<=56319){var n=e.charCodeAt(t+1);n>=56320&&n<=57343&&(r=65536+(r-55296<<10)+(n-56320))}return r}function a(e){for(var t=new Uint8Array(e.length),r=0,a=0;a<e.length;a++){var o=String.prototype.codePointAt?e.codePointAt(a):n(e,a);t[r++]=255&o}return t}function o(e){function t(){e.debug&&i.debug("xhrRequest.onProgressEvent.length: ",o.response.length);var t=o.response.substr(u);u=o.response.length;var r=a(t);e.onChunk(r)}function r(){e.debug&&i.debug("xhrRequest.onLoadEvent"),e.onEnd()}function n(){e.debug&&i.debug("xhrRequest.onStateChange",this.readyState),this.readyState===this.HEADERS_RECEIVED&&e.onHeaders(new s.BrowserHeaders(this.getAllResponseHeaders()),this.status)}e.debug&&i.debug("xhrRequest",e);var o=new XMLHttpRequest,u=0;o.open("POST",e.url),o.responseType="text",o.overrideMimeType("text/plain; charset=x-user-defined"),e.headers.forEach(function(e,t){o.setRequestHeader(e,t.join(", "))}),o.addEventListener("readystatechange",n),o.addEventListener("progress",t),o.addEventListener("loadend",r),o.addEventListener("error",function(t){e.debug&&i.debug("xhrRequest.error",t),e.onEnd(t.error)}),o.send(e.body)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),i=r(1);t.stringToArrayBuffer=a,t.default=o},function(e,t,r){"use strict";function n(e){function t(){e.debug&&o.debug("msStream.onLoadEvent"),e.debug&&o.debug("response ",JSON.stringify(n.response,null,2))}function r(){if(e.debug&&o.debug("msStream.onStateChange",this.readyState),this.readyState===this.HEADERS_RECEIVED&&e.onHeaders(new a.BrowserHeaders(this.getAllResponseHeaders()),this.status),this.readyState===this.LOADING){var t=new MSStreamReader,r=0;t.onprogress=function(){if(t.result.byteLength>r){var n=new Uint8Array(t.result,r);r=t.result.byteLength,e.onChunk(n)}},t.onload=function(){e.onEnd()},t.readAsArrayBuffer(this.response)}}e.debug&&o.debug("msStream",e);var n=new XMLHttpRequest;n.open("POST",e.url),n.responseType="ms-stream",e.headers.forEach(function(e,t){n.setRequestHeader(e,t.join(", "))}),n.addEventListener("readystatechange",r),n.addEventListener("loadend",t),n.addEventListener("error",function(t){e.debug&&o.debug("msStream.error",t),e.onEnd(t.error)}),n.send(e.body)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=r(1);t.default=n}]));